/**
 * RestrictedTextField v1.1
 * https://www.github.com/kloverde/jquery-RestrictedTextField
 *
 * This software is licensed under the 3-clause BSD license.
 *
 * Copyright (c) 2016 Kurtis LoVerde
 * All rights reserved
 *
 * Donations:  https://paypal.me/KurtisLoVerde/5
 */
!function(e){"use strict";function t(e){return void 0===e||null===e||e.length<1}function n(e,t){var n=Object.prototype.toString.call(e).slice(8,-1);return void 0!==e&&null!==e&&n.toUpperCase()===t.toUpperCase()}function i(e,t,i,l){if(void 0==t||null==t)throw"id is undefined";if(!n(t,"String"))throw"id must be a string";if(t.length<1)throw"id is empty";if(void 0==i||null==i)throw"fullRegex is undefined";if(!n(i,"RegExp"))throw"fullRegex must be a RegExp object";if(void 0!=l&&null!=l&&!n(l,"RegExp"))throw"partialRegex must be a RegExp object";e[t]={fullRegex:i,partialRegex:l}}e.fn.RestrictedTextFieldConfig=function(){var t=e.fn.RestrictedTextFieldConfig.customTypes=e.fn.RestrictedTextFieldConfig.customTypes||[];this.addType=function(e,n,l){i(t,e,n,l)}},e.fn.restrictedTextField=function(n){function l(){var t=/^-$/,n=/^[-\.\d]$|^-\.$|^-?\d*\.$/,l=/^[\.\d]$|^\.$|^\d*\.$/,d=/^0\.?$|^-\.?$|^-\d*\.$/;(void 0===e.fn.restrictedTextField.types||null===e.fn.restrictedTextField.types)&&(e.fn.restrictedTextField.types=[]);var a=e.fn.restrictedTextField.types=e.fn.restrictedTextField.types||[];i(a,"alpha",/^[a-zA-Z]*$/,null),i(a,"upperAlpha",/^[A-Z]*$/,null),i(a,"lowerAlpha",/^[a-z]*$/,null),i(a,"alphaSpace",/^[a-zA-Z\ ]*$/,null),i(a,"upperAlphaSpace",/^[A-Z\ ]*$/,null),i(a,"lowerAlphaSpace",/^[a-z\ ]*$/,null),i(a,"alphanumeric",/^[a-zA-Z\d]*$/,null),i(a,"upperAlphanumeric",/^[A-Z\d]*$/,null),i(a,"lowerAlphanumeric",/^[a-z\d]*$/,null),i(a,"alphanumericSpace",/^[a-zA-Z\d\ ]*$/,null),i(a,"upperAlphanumericSpace",/^[A-Z\d\ ]*$/,null),i(a,"lowerAlphanumericSpace",/^[a-z\d\ ]*$/,null),i(a,"int",/^0$|^-?[1-9]\d*$/,t),i(a,"positiveInt",/^0$|^[1-9]\d*$/,null),i(a,"negativeInt",/^0$|^-[1-9]\d*$/,t),i(a,"float",/^-?\d*\.?\d+$/,n),i(a,"positiveFloat",/^\d*\.?\d+$/,l),i(a,"negativeFloat",/^-\d*\.?\d+$/,d),i(a,"money",/^-?\d*\.?\d{1,2}$/,n),i(a,"positiveMoney",/^\d*\.?\d{1,2}$/,l),i(a,"negativeMoney",/^-\d*\.?\d{1,2}$/,d),i(a,"accountingMoney",/^\d*\.?\d{1,2}$|^\(\d*\.?\d{1,2}\)$/,/^[\.\d]$|^\.$|^\d*\.$|^\(\d*\.?$|^\(\d*\.\d{1,2}?$/),i(a,"negativeAccountingMoney",/^\(\d*\.?\d{1,2}\)$/,/^\(\d*\.?$|^\(\d*\.\d{1,2}?$/)}var d=e.extend({type:null,preventInvalidInput:!0},n),a="inputIgnored",u="validationFailed",r="validationSuccess";(void 0===e.fn.restrictedTextField.types||null===e.fn.restrictedTextField.types)&&l();var o=e.fn.restrictedTextField.types[d.type];if(t(o)&&(void 0!==e.fn.RestrictedTextFieldConfig.customTypes&&null!==e.fn.RestrictedTextFieldConfig.customTypes&&(o=e.fn.RestrictedTextFieldConfig.customTypes[d.type]),t(o)))throw"Invalid type: "+d.type;return this.each(function(){function n(e){if(!t(e.value)){var n=d.type;if("money"===n||"positiveMoney"===n||"negativeMoney"===n||"accountingMoney"===n||"negativeAccountingMoney"===n){var i=e.value.length,l="("===e.value[0]?"(":"",a=")"===e.value[i-1]?")":"",u=e.value.indexOf("."),r=e.value.substring(""===l?0:1,u>0?u-1:")"===a?i-1:i),o="00";u>-1&&(r=e.value.substring(""===l?0:1,u),o=e.value.substring(u+1,""===a?i:i-1)),e.value=l+r+"."+o+(1===o.length?"0":"")+a}}}var i=e(this),l="";i.on("keydown paste",function(){l=this.value}),i.on("input",function(){var t=e(this),n=!1,i=!1,p=u;0===this.value.length?(n=!0,i=!0,p=r):(i=o.fullRegex.test(this.value),void 0!==o.partialRegex&&null!==o.partialRegex&&(n=o.partialRegex.test(this.value)),p=i?r:n?r:u,n||i||d.preventInvalidInput&&(p=a,t.val(l))),t.trigger(p)}),i.on("blur",function(){n(this),i.trigger(0===this.value.length||o.fullRegex.test(this.value)?r:u)})})}}(jQuery);
