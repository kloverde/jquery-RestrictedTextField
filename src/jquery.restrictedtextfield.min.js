/*
 * RestrictedTextField v1.1
 * https://www.github.com/kloverde/jquery-RestrictedTextField
 *
 * Copyright (c) 2016, Kurtis LoVerde
 * All rights reserved.
 *
 * Donations:  https://paypal.me/KurtisLoVerde/10
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 *     1. Redistributions of source code must retain the above copyright
 *        notice, this list of conditions and the following disclaimer.
 *     2. Redistributions in binary form must reproduce the above copyright
 *        notice, this list of conditions and the following disclaimer in the
 *        documentation and/or other materials provided with the distribution.
 *     3. Neither the name of the copyright holder nor the names of its
 *        contributors may be used to endorse or promote products derived from
 *        this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
!function(a){"use strict";function b(a){return void 0===a||null===a||a.length<1}function c(a,b){var c=Object.prototype.toString.call(a).slice(8,-1);return void 0!==a&&null!==a&&c.toUpperCase()===b.toUpperCase()}function d(a,b,d,e){if(void 0==b||null==b)throw"id is undefined";if(!c(b,"String"))throw"id must be a string";if(b.length<1)throw"id is empty";if(void 0==d||null==d)throw"fullRegex is undefined";if(!c(d,"RegExp"))throw"fullRegex must be a RegExp object";if(void 0!=e&&null!=e&&!c(e,"RegExp"))throw"partialRegex must be a RegExp object";a[b]={fullRegex:d,partialRegex:e}}a.fn.RestrictedTextFieldConfig=function(){var b=a.fn.RestrictedTextFieldConfig.customTypes=a.fn.RestrictedTextFieldConfig.customTypes||[];this.addType=function(a,c,e){d(b,a,c,e)}},a.fn.restrictedTextField=function(c){function i(){var b=/^-$/,c=/^-?\d*\.?\d*$/,e=/^\d*\.?\d*$/,f=/^0*\.?$|^-\d*\.?\d*$/;void 0!==a.fn.restrictedTextField.types&&null!==a.fn.restrictedTextField.types||(a.fn.restrictedTextField.types=[]);var g=a.fn.restrictedTextField.types=a.fn.restrictedTextField.types||[];d(g,"alpha",/^[a-zA-Z]*$/,null),d(g,"upperAlpha",/^[A-Z]*$/,null),d(g,"lowerAlpha",/^[a-z]*$/,null),d(g,"alphaSpace",/^[a-zA-Z\ ]*$/,null),d(g,"upperAlphaSpace",/^[A-Z\ ]*$/,null),d(g,"lowerAlphaSpace",/^[a-z\ ]*$/,null),d(g,"alphanumeric",/^[a-zA-Z\d]*$/,null),d(g,"upperAlphanumeric",/^[A-Z\d]*$/,null),d(g,"lowerAlphanumeric",/^[a-z\d]*$/,null),d(g,"alphanumericSpace",/^[a-zA-Z\d\ ]*$/,null),d(g,"upperAlphanumericSpace",/^[A-Z\d\ ]*$/,null),d(g,"lowerAlphanumericSpace",/^[a-z\d\ ]*$/,null),d(g,"int",/^-?\d*$/,b),d(g,"positiveInt",/^\d*$/,null),d(g,"negativeInt",/^0*$|^-\d*$/,b),d(g,"strictInt",/^0$|^-?[1-9]\d*$/,b),d(g,"strictPositiveInt",/^0$|^[1-9]\d*$/,null),d(g,"strictNegativeInt",/^0$|^-[1-9]\d*$/,b),d(g,"float",/^-?\d*\.?\d+$/,c),d(g,"positiveFloat",/^\d*\.?\d+$/,e),d(g,"negativeFloat",/^-?0+$|^-?0*\.?0+$|^-\d*\.?\d+$/,f),d(g,"strictFloat",/^0*\.0+$|^-?0*\.\d*[1-9]$|^-?\d*\.\d*[1-9]\d*$|^-?0*[1-9]\d*?\d*\.\d+$/,c),d(g,"strictPositiveFloat",/^0*\.0+$|^0*\.\d*[1-9]$|^\d*\.\d*[1-9]\d*$|^\d*[1-9]*\d*\.\d+$/,e),d(g,"strictNegativeFloat",/^0*\.0+$|^-0*\.\d*[1-9]$|^-\d*\.\d*[1-9]\d*$|^-[^0]\d*?\d*\.\d+$/,f),d(g,"money",/^-?\d*\.?\d{1,2}$/,c),d(g,"positiveMoney",/^\d*\.?\d{1,2}$/,e),d(g,"negativeMoney",/^-\d*\.?\d{1,2}$/,f),d(g,"accountingMoney",/^\d*\.?\d{1,2}$|^\(\d*\.?\d{1,2}\)$/,/^[\.\d]$|^\.$|^\d*\.$|^\(\d*\.?$|^\(\d*\.\d{1,2}?$/),d(g,"negativeAccountingMoney",/^\(\d*\.?\d{1,2}\)$/,/^\(\d*\.?$|^\(\d*\.\d{1,2}?$/)}function k(a){e.logger&&"function"==typeof e.logger&&e.logger("jquery.restrictedtextfield.js:  "+a)}var e=a.extend({type:null,preventInvalidInput:!0,logger:void 0},c),f="inputIgnored",g="validationFailed",h="validationSuccess";void 0!==a.fn.restrictedTextField.types&&null!==a.fn.restrictedTextField.types||i();var j=a.fn.restrictedTextField.types[e.type];if(b(j)&&(void 0!==a.fn.RestrictedTextFieldConfig.customTypes&&null!==a.fn.RestrictedTextFieldConfig.customTypes&&(j=a.fn.RestrictedTextFieldConfig.customTypes[e.type]),b(j)))throw"Invalid type: "+e.type;return this.each(function(){function i(a){if(!b(a.value)){var c=e.type;if("money"===c||"positiveMoney"===c||"negativeMoney"===c||"accountingMoney"===c||"negativeAccountingMoney"===c){var d=a.value.length,f="("===a.value[0]?"(":"",g=")"===a.value[d-1]?")":"",h=a.value.indexOf("."),i=a.value.substring(""===f?0:1,h>0?h-1:")"===g?d-1:d),j="00";h>-1&&(i=a.value.substring(""===f?0:1,h),j=a.value.substring(h+1,""===g?d:d-1)),a.value=f+i+"."+j+(1===j.length?"0":"")+g}}}var c=a(this),d="";c.on("keydown paste",function(a){d=this.value}),c.on("input",function(b){k("caught input - new value: "+this.value);var c=a(this),i=!1,l=!1,m=g;0===this.value.length?(i=!0,l=!0,m=h):(l=j.fullRegex.test(this.value),void 0!==j.partialRegex&&null!==j.partialRegex&&(i=j.partialRegex.test(this.value)),l?(k("passes full regex"),m=h):(k("fails full regex"),i?(k("passes partial regex"),m=h):(k("fails partial regex"),m=g)),i||l||e.preventInvalidInput&&(m=f,c.val(d),k('reverted field to "'+d+'"'))),k("triggering "+m+" event "),c.trigger(m)}),c.on("blur",function(){i(this);var a=g;(0===this.value.length||j.fullRegex.test(this.value))&&(a=h),k("triggering "+a+" event "),c.trigger(a)})})}}(jQuery);