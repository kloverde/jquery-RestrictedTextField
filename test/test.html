<!DOCTYPE html>

<!--
   RestrictedTextField v1.1
   https://www.github.com/kloverde/jquery-RestrictedTextField

   Copyright (c) 2016 Kurtis LoVerde
   All rights reserved

   Donations:  https://paypal.me/KurtisLoVerde/7
-->

<html>
   <head>
      <meta charset="utf-8"/>

      <title>RestrictedTextField - Selenium Tests</title>

      <script type="text/javascript" src="/test/jquery.js"></script>
      <script type="text/javascript" src="/src/jquery.restrictedtextfield.js"></script>

      <script type="text/javascript">
         var inputIgnoredEvent,
             validationFailedEvent,
             validationSuccessEvent;

         function setUp() {
            log( "setUp" );

            $( "#fieldContainer" ).html( "" );  // I know.  Clearing it before replacing it is unnecessary.  But, being able to watch it be destroyed by stepping through in a debugger is reassuring.
            $( "#fieldContainer" ).html( "<input type='text' id='field'/>" );

            inputIgnoredEvent = false;
            validationFailedEvent = false;
            validationSuccessEvent = false;
         }

         function tearDown() {
            log( "tearDown" );
         }

         function initField( fieldType, ignore ) {
            log( "initField:  fieldType[" + fieldType + "], ignore[" + ignore + "]" );

            var jqField = $( "#field" );

            jqField.restrictedTextField( { type : fieldType,
                                           ignoreInvalidInput : ignore } );

            jqField.on( "inputIgnored", function() {
               log( "inputIgnored event" );
               inputIgnoredEvent = true;
            } );

            jqField.on( "validationFailed", function() {
               log( "validationFailed event" );
               validationFailedEvent = true;
            } );

            jqField.on( "validationSuccess", function() {
               log( "validationSuccess event" );
               validationSuccessEvent = true;
            } );
         }

         function didInputIgnoredEventFire() {
            log( "returning inputIgnoredEvent = " + inputIgnoredEvent );
            return inputIgnoredEvent;
         }

         function didValidationFailedEventFire() {
            log( "returning validationFailedEvent = " + validationFailedEvent );
            return validationFailedEvent;
         }

         function didValidationSuccessEventFire() {
            log( "returning validationSuccessEvent = " + validationSuccessEvent );
            return validationSuccessEvent;
         }

         function log( msg ) {
            if( console && console.log ) {
               console.log( msg );
            }
         }
      </script>
   </head>
   <body>
      <div id="fieldContainer" style="padding-bottom: 25px;">
      </div>
   </body>
</html>
