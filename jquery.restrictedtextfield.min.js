/**
 * RestrictedTextField v1.0
 * https://www.github.com/kloverde/jquery-RestrictedTextField
 *
 * This software is licensed under the 3-clause BSD license.
 *
 * Copyright (c) 2016 Kurtis LoVerde
 * All rights reserved
 *
 * Donations:  https://paypal.me/KurtisLoVerde/5
 */
!function(e){"use strict";function t(e){return void 0==e||null==e||e.length<1}function n(e,t,n,i){if(void 0==t||null==t)throw"id is undefined";if(t.length<1)throw"id is empty";if(void 0==n||null==n)throw"fullRegex is undefined";if(void 0!=n&&null!=n&&"object"!=typeof n||"RegExp"!==n.constructor.name)throw"fullRegex should be a regular expression object";if(void 0!=i&&null!=i&&("object"!=typeof i||"RegExp"!==i.constructor.name))throw"partialRegex should be a regular expression object";e[t]={fullRegex:n,partialRegex:i}}e.fn.RestrictedTextFieldConfig=function(){var t=e.fn.RestrictedTextFieldConfig.customTypes=e.fn.RestrictedTextFieldConfig.customTypes||[];return{addType:function(e,i,l){n(t,e,i,l)}}},e.fn.restrictedTextField=function(i){function l(){var t=/^-$/,i=/^[-\.\d]$|^-\.$|^-?\d*\.$/,l=/^[\.\d]$|^\.$|^\d*\.$/,d=/^0\.?$|^-\.?$|^-\d*\.$/;(void 0==e.fn.restrictedTextField.types||null==e.fn.restrictedTextField.types)&&(e.fn.restrictedTextField.types=[]);var o=e.fn.restrictedTextField.types=e.fn.restrictedTextField.types||[];n(o,"alpha",/^[a-zA-Z]*$/,null),n(o,"upperAlpha",/^[A-Z]*$/,null),n(o,"lowerAlpha",/^[a-z]*$/,null),n(o,"alphanumeric",/^[a-zA-Z\d]*$/,null),n(o,"upperAlphanumeric",/^[A-Z\d]*$/,null),n(o,"lowerAlphanumeric",/^[a-z\d]*$/,null),n(o,"int",/^0$|^-?[1-9]\d*$/,t),n(o,"positiveInt",/^0$|^[1-9]\d*$/,null),n(o,"negativeInt",/^0$|^-[1-9]\d*$/,t),n(o,"float",/^-?\d*\.?\d+$/,i),n(o,"positiveFloat",/^\d*\.?\d+$/,l),n(o,"negativeFloat",/^-\d*\.?\d+$/,d),n(o,"money",/^-?\d*\.?\d{1,2}$/,i),n(o,"positiveMoney",/^\d*\.?\d{1,2}$/,l),n(o,"negativeMoney",/^-\d*\.?\d{1,2}$/,d),n(o,"accountingMoney",/^\d*\.?\d{1,2}$|^\(\d*\.?\d{1,2}\)$/,/^[\.\d]$|^\.$|^\d*\.$|^\(\d*\.?$|^\(\d*\.\d{1,2}?$/),n(o,"negativeAccountingMoney",/^\(\d*\.?\d{1,2}\)$/,/^\(\d*\.?$|^\(\d*\.\d{1,2}?$/)}function d(e,t){var n=e.val();0===n.length?(console.log("triggering success"),e.trigger(s)):n.length>0&&(console.log("processFinishedInput - "+o.type+":  "+a.fullRegex),a.fullRegex.test(n)?(console.log("triggering success"),e.trigger(s)):(console.log("failed validation"),o.preventInvalidInput&&(console.log("reverting"),e.val(t)),console.log("triggering fail event"),e.trigger(r)))}var o=e.extend({type:null,preventInvalidInput:!0},i),r="validationFailure",s="validationSuccess",u="inputInProgress";(void 0==e.fn.restrictedTextField.types||null==e.fn.restrictedTextField.types)&&l();var a=e.fn.restrictedTextField.types[o.type];if(t(a)&&(void 0!=e.fn.RestrictedTextFieldConfig.customTypes&&null!=e.fn.RestrictedTextFieldConfig.customTypes&&(a=e.fn.RestrictedTextFieldConfig.customTypes[o.type]),t(a)))throw"Invalid type: "+o.type;return this.each(function(){var t=e(this),n="";t.on("keydown paste",function(){n=this.value}),t.on("input",function(){var t=e(this);void 0!=a.partialRegex&&null!=a.partialRegex&&a.partialRegex.test(this.value)?t.trigger(u):d(t,n)}),t.on("blur",function(){d(t,t.val())})})}}(jQuery);